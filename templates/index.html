{% extends 'base.html' %}
{% load static %}

{% block title %}OASIS — Repositorio Institucional de Proyectos de Grado{% endblock %}

{% block navbar %}
<nav id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-500">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16 lg:h-20">
            <!-- Logo -->
            <a href="#hero" class="flex items-center gap-3 group">
                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-oasis-600 to-oasis-700
                            flex items-center justify-center shadow-lg shadow-oasis-600/20
                            group-hover:shadow-oasis-600/40 transition-all duration-300
                            group-hover:scale-110">
                    <i class="fa-solid fa-seedling text-white text-lg"></i>
                </div>
                <span class="text-xl font-black text-oasis-900 tracking-tight">OASIS</span>
            </a>

            <!-- Nav links (desktop) -->
            <div class="hidden md:flex items-center gap-1">
                <a href="#carreras" class="nav-link px-4 py-2 rounded-lg text-sm font-medium text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">Carreras</a>
                <a href="#talento" class="nav-link px-4 py-2 rounded-lg text-sm font-medium text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">Talento Pro</a>
                <a href="#empresas" class="nav-link px-4 py-2 rounded-lg text-sm font-medium text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">Empresas</a>
            </div>

            <!-- Auth buttons (desktop) -->
            <div class="flex items-center gap-3">
                {% if user.is_authenticated %}
                    <a href="{% url 'dashboard' %}" class="hidden sm:inline-flex items-center gap-2 px-3 py-2 rounded-lg
                              text-sm text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">
                        <i class="fa-solid fa-gauge text-xs"></i> Dashboard
                    </a>
                    <a href="{% url 'perfil' %}" class="hidden sm:flex items-center gap-2.5 group">
                        <div class="w-9 h-9 rounded-full bg-gradient-to-br from-oasis-500 to-oasis-700
                                    flex items-center justify-center text-white text-xs font-bold
                                    shadow-md shadow-oasis-600/20 group-hover:shadow-oasis-600/40
                                    group-hover:scale-110 transition-all duration-300">
                            {{ user.iniciales }}
                        </div>
                        <div class="hidden lg:block">
                            <p class="text-sm font-semibold text-dark-800 leading-tight group-hover:text-oasis-700 transition-colors">
                                {{ user.get_full_name|default:user.username|truncatechars:20 }}
                            </p>
                            <p class="text-[10px] font-mono text-dark-500 uppercase">{{ user.get_rol_display }}</p>
                        </div>
                    </a>
                    <form method="post" action="{% url 'logout' %}" class="hidden sm:inline">
                        {% csrf_token %}
                        <button type="submit" title="Cerrar sesion"
                                class="p-2.5 rounded-xl text-dark-400 hover:text-red-500
                                       hover:bg-red-50 border border-transparent
                                       hover:border-red-200 transition-all duration-300">
                            <i class="fa-solid fa-right-from-bracket text-sm"></i>
                        </button>
                    </form>
                {% else %}
                    <!-- Naranja 10%: Login outline -->
                    <a href="{% url 'login' %}"
                       class="hidden sm:inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-bold
                              border border-oasis-600/30 text-oasis-700
                              hover:bg-oasis-50 hover:border-oasis-600/50
                              transition-all duration-300">
                        <i class="fa-solid fa-right-to-bracket text-xs"></i> Iniciar Sesion
                    </a>
                    <!-- Naranja 10%: CTA Registrarse -->
                    <a href="{% url 'registro_empresa' %}"
                       class="hidden sm:inline-flex items-center gap-2 px-5 py-2.5 rounded-xl text-sm font-bold
                              bg-accent-500 text-white
                              shadow-lg shadow-accent-500/25 hover:shadow-accent-500/40
                              hover:bg-accent-600
                              transition-all duration-300 hover:-translate-y-0.5">
                        <i class="fa-solid fa-user-plus text-xs"></i> Registrarse
                    </a>
                {% endif %}
                <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-colors"
                        aria-label="Abrir menu de navegacion" aria-expanded="false" aria-controls="mobile-menu">
                    <i class="fa-solid fa-bars text-lg"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="hidden md:hidden border-t border-dark-200 bg-white/95 backdrop-blur-xl"
         role="navigation" aria-label="Menu movil">
        <div class="px-4 py-4 space-y-1">
            <a href="#carreras" class="mobile-nav-link block px-4 py-3 rounded-lg text-sm font-medium text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">Carreras</a>
            <a href="#talento" class="mobile-nav-link block px-4 py-3 rounded-lg text-sm font-medium text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">Talento Pro</a>
            <a href="#empresas" class="mobile-nav-link block px-4 py-3 rounded-lg text-sm font-medium text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">Empresas</a>

            {% if user.is_authenticated %}
                <div class="pt-3 mt-3 border-t border-dark-100">
                    <div class="flex items-center gap-3 px-4 py-2 mb-2">
                        <div class="w-9 h-9 rounded-full bg-gradient-to-br from-oasis-500 to-oasis-700
                                    flex items-center justify-center text-white text-xs font-bold">
                            {{ user.iniciales }}
                        </div>
                        <div>
                            <p class="text-sm font-semibold text-dark-800">{{ user.get_full_name|default:user.username }}</p>
                            <p class="text-[10px] font-mono text-dark-500 uppercase">{{ user.get_rol_display }}</p>
                        </div>
                    </div>
                    <a href="{% url 'dashboard' %}" class="block px-4 py-3 rounded-lg text-sm font-medium text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">
                        <i class="fa-solid fa-gauge mr-2 w-4"></i> Dashboard
                    </a>
                    <a href="{% url 'perfil' %}" class="block px-4 py-3 rounded-lg text-sm font-medium text-dark-600 hover:text-oasis-700 hover:bg-oasis-50 transition-all">
                        <i class="fa-solid fa-user mr-2 w-4"></i> Mi Perfil
                    </a>
                    <form method="post" action="{% url 'logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="w-full text-left px-4 py-3 mt-1 rounded-xl text-sm font-bold text-center text-red-600 bg-red-50 border border-red-200 transition-all hover:bg-red-100">
                            <i class="fa-solid fa-right-from-bracket mr-2"></i> Cerrar Sesion
                        </button>
                    </form>
                </div>
            {% else %}
                <div class="pt-3 mt-3 border-t border-dark-100 space-y-2">
                    <a href="{% url 'login' %}" class="block px-4 py-3 rounded-xl text-sm font-bold text-center border border-oasis-600/30 text-oasis-700 hover:bg-oasis-50 transition-all">
                        <i class="fa-solid fa-right-to-bracket mr-2"></i> Iniciar Sesion
                    </a>
                    <a href="{% url 'registro_empresa' %}" class="block px-4 py-3 rounded-xl text-sm font-bold text-center bg-accent-500 text-white hover:bg-accent-600 transition-all">
                        <i class="fa-solid fa-user-plus mr-2"></i> Registrarse
                    </a>
                </div>
            {% endif %}
        </div>
    </div>
</nav>
{% endblock %}

{% block content %}

<!-- ════════════════════════════════════════════════════════════════════════════
     HERO SECTION — Fondo verde claro a blanco
     ════════════════════════════════════════════════════════════════════════════ -->
<section id="hero" class="hero-section relative min-h-screen flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0">
        <div class="absolute inset-0 bg-[linear-gradient(rgba(5,150,105,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(5,150,105,0.03)_1px,transparent_1px)] bg-[size:80px_80px]"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1000px] h-[1000px] bg-oasis-100/40 rounded-full blur-[120px]"></div>
        <div class="absolute top-1/3 right-1/4 w-[500px] h-[500px] bg-accent-100/20 rounded-full blur-[100px]"></div>
    </div>
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <!-- Badge -->
        <div class="inline-flex items-center gap-2 px-5 py-2.5 rounded-full
                    bg-oasis-50 border border-oasis-200 mb-8 hero-animate" style="animation-delay:0s">
            <span class="w-2 h-2 rounded-full bg-oasis-500 animate-pulse"></span>
            <span class="text-sm font-semibold text-oasis-700">Repositorio Institucional</span>
            <span class="px-2 py-0.5 rounded-md bg-oasis-100 text-xs font-mono text-oasis-600">{{ total_carreras }} carreras</span>
        </div>

        <h1 class="text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-black text-dark-900 leading-[0.95] mb-6
                   hero-animate" style="animation-delay:0.15s">
            Donde el Talento
            <br>
            <span class="gradient-text-hero">Encuentra su Futuro</span>
        </h1>

        <p class="max-w-2xl mx-auto text-lg sm:text-xl text-dark-500 mb-10
                  hero-animate" style="animation-delay:0.3s">
            Explora proyectos de grado de <strong class="text-oasis-700">{{ total_carreras }} carreras</strong>,
            conecta con el talento emergente y descubre la innovacion
            que esta transformando la industria.
        </p>

        <!-- Dual CTA: Verde explorar, Naranja empresa -->
        <div class="flex flex-col sm:flex-row items-center justify-center gap-4
                    hero-animate" style="animation-delay:0.45s">
            <a href="#carreras"
               class="group inline-flex items-center gap-3 px-8 py-4 rounded-2xl
                      bg-oasis-600 text-white font-bold text-lg
                      shadow-xl shadow-oasis-600/20 hover:shadow-oasis-600/40
                      hover:bg-oasis-700 hover:-translate-y-1 transition-all duration-300">
                <i class="fa-solid fa-compass"></i>
                Explorar Carreras
                <i class="fa-solid fa-arrow-right text-sm group-hover:translate-x-1 transition-transform"></i>
            </a>
            <a href="#empresas"
               class="group inline-flex items-center gap-3 px-8 py-4 rounded-2xl
                      bg-white text-dark-700 font-bold text-lg
                      border border-dark-200 shadow-md
                      hover:-translate-y-1 hover:border-accent-300 hover:text-accent-600
                      transition-all duration-300">
                <i class="fa-solid fa-handshake text-accent-500"></i>
                Soy Empresa
            </a>
        </div>

        <!-- Cluster pills -->
        <div class="mt-16 flex flex-wrap items-center justify-center gap-3
                    hero-animate" style="animation-delay:0.6s">
            {% for cluster in clusters %}
            <button data-cluster="{{ cluster.key }}"
                    class="cluster-pill px-4 py-2 rounded-xl bg-white border border-dark-200 text-xs font-semibold text-dark-600
                           hover:text-oasis-700 hover:border-oasis-300 hover:bg-oasis-50
                           shadow-sm transition-all cursor-pointer">
                <i class="fa-solid {{ cluster.icon }} mr-1.5 text-oasis-500"></i>
                {{ cluster.label }}
                <span class="ml-1 text-dark-400">({{ cluster.count }})</span>
            </button>
            {% endfor %}
        </div>
    </div>

    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce">
        <a href="#carreras" class="text-oasis-400 hover:text-oasis-600 transition-colors">
            <i class="fa-solid fa-chevron-down text-xl"></i>
        </a>
    </div>
</section>

<!-- ════════════════════════════════════════════════════════════════════════════
     SEARCH + FILTER SECTION — Fondo gris claro
     ════════════════════════════════════════════════════════════════════════════ -->
<section id="carreras" class="section-gray relative py-24 lg:py-32">
    <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-oasis-300/30 to-transparent"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <div class="text-center mb-12">
            <span class="inline-block px-4 py-1.5 rounded-full bg-oasis-50 border border-oasis-200
                        text-sm font-semibold text-oasis-700 mb-4">{{ total_carreras }} Carreras</span>
            <h2 class="text-3xl sm:text-4xl lg:text-5xl font-black text-dark-900 mb-4">
                Bento Grid de
                <span class="text-oasis-600">Carreras</span>
            </h2>
        </div>

        <!-- Search Bar -->
        <div class="max-w-2xl mx-auto mb-12">
            <div class="search-glow relative">
                <i class="fa-solid fa-magnifying-glass absolute left-5 top-1/2 -translate-y-1/2 text-dark-400"></i>
                <input id="search-input" type="text" placeholder="Buscar carrera o habilidad..."
                       aria-label="Buscar carreras por nombre o habilidad"
                       class="w-full pl-14 pr-6 py-4 rounded-2xl bg-white border border-dark-200
                              text-dark-800 placeholder-dark-400 text-lg font-medium
                              focus:outline-none focus:border-oasis-500 focus:shadow-lg focus:shadow-oasis-100
                              transition-all duration-300 shadow-sm">
                <div id="search-count" class="absolute right-5 top-1/2 -translate-y-1/2 text-sm font-mono text-dark-400">
                    {{ total_carreras }} resultados
                </div>
            </div>
        </div>

        <!-- Cluster Filters -->
        <div class="flex flex-wrap items-center justify-center gap-2 mb-10" role="toolbar" aria-label="Filtrar carreras por cluster">
            <button data-filter="ALL"
                    class="filter-btn active px-4 py-2 rounded-xl text-sm font-semibold
                           bg-oasis-600 text-white border border-oasis-600
                           hover:bg-oasis-700 transition-all"
                    aria-pressed="true">
                Todas <span class="ml-1 text-xs opacity-80">({{ total_carreras }})</span>
            </button>
            {% for cluster in clusters %}
            <button data-filter="{{ cluster.key }}"
                    class="filter-btn px-4 py-2 rounded-xl text-sm font-semibold
                           bg-white text-dark-600 border border-dark-200
                           hover:border-oasis-300 hover:text-oasis-700 hover:bg-oasis-50
                           transition-all"
                    aria-pressed="false">
                <i class="fa-solid {{ cluster.icon }} mr-1 text-oasis-500"></i>
                {{ cluster.label }} <span class="ml-1 text-xs opacity-60">({{ cluster.count }})</span>
            </button>
            {% endfor %}
        </div>

        <!-- BENTO GRID -->
        <div id="bento-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3">
            {% for carrera in carreras %}
            <div class="tilt-card group relative overflow-hidden rounded-2xl p-4 cursor-pointer
                        green-card
                        transition-all duration-300 hover:-translate-y-1"
                 data-cluster="{{ carrera.cluster }}"
                 data-name="{{ carrera.label }}"
                 data-key="{{ carrera.key }}"
                 data-tooltip="{{ carrera.label }} — {{ carrera.cluster_display }}">
                <!-- Glow on hover -->
                <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500
                            bg-gradient-to-br from-oasis-100/60 to-transparent rounded-2xl"></div>
                <!-- Icon -->
                <div class="relative w-12 h-12 rounded-xl bg-oasis-100
                            flex items-center justify-center mb-3
                            group-hover:bg-oasis-200 group-hover:scale-110
                            transition-all duration-300">
                    <i class="fa-solid {{ carrera.icon }} text-oasis-600 text-lg"></i>
                </div>
                <!-- Text -->
                <h4 class="relative text-sm font-bold text-dark-800 leading-tight mb-1
                           group-hover:text-oasis-700 transition-colors">
                    {{ carrera.label }}
                </h4>
                <span class="relative text-[10px] font-mono text-dark-400 uppercase tracking-wider">
                    {{ carrera.cluster_display }}
                </span>
            </div>
            {% endfor %}
        </div>

        <p id="no-results" class="hidden text-center text-dark-400 text-lg mt-12 py-8">
            <i class="fa-solid fa-ghost text-3xl mb-3 block text-dark-300"></i>
            No se encontraron carreras para esta busqueda.
        </p>
    </div>
</section>

<!-- ════════════════════════════════════════════════════════════════════════════
     TALENTO PRO - Carousel de Proyectos Destacados
     ════════════════════════════════════════════════════════════════════════════ -->
<section id="talento" class="relative py-24 lg:py-32 overflow-hidden bg-white">
    <div class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-oasis-300/20 to-transparent"></div>
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-oasis-50/50 rounded-full blur-[150px]"></div>

    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <div class="text-center mb-16">
            <span class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-oasis-50 border border-oasis-200
                        text-sm font-semibold text-oasis-700 mb-4">
                <i class="fa-solid fa-trophy text-accent-500"></i> Talento Pro
            </span>
            <h2 class="text-3xl sm:text-4xl lg:text-5xl font-black text-dark-900 mb-4">
                Proyectos
                <span class="gradient-text-green">Destacados</span>
            </h2>
            <p class="max-w-xl mx-auto text-dark-500">
                Los proyectos de grado mas votados del momento. Innovacion real creada por aprendices.
            </p>
        </div>

        <!-- Carousel -->
        <div class="carousel-container relative">
            <div id="carousel-track" class="flex gap-6 overflow-x-auto pb-6 snap-x snap-mandatory scroll-smooth
                                            scrollbar-hide px-4">
                {% for proyecto in proyectos_destacados %}
                <div class="carousel-card flex-shrink-0 w-80 snap-center">
                    <div class="tilt-card bg-white rounded-3xl p-6 h-full border border-dark-200 shadow-sm
                                hover:border-oasis-300 hover:shadow-lg hover:shadow-oasis-50 transition-all duration-300">
                        <!-- Rank badge: Naranja 10% -->
                        <div class="flex items-center justify-between mb-4">
                            <span class="px-3 py-1 rounded-full bg-accent-500
                                        text-xs font-black text-white shadow-lg shadow-accent-500/20">
                                #{{ forloop.counter }} TOP
                            </span>
                            <span class="flex items-center gap-1 text-sm font-bold text-accent-500">
                                <i class="fa-solid fa-fire"></i> {{ proyecto.votos }}
                            </span>
                        </div>
                        <!-- Content -->
                        <h3 class="text-lg font-bold text-dark-800 mb-2 line-clamp-2">{{ proyecto.titulo }}</h3>
                        <p class="text-sm text-dark-500 mb-4 line-clamp-3">{{ proyecto.descripcion }}</p>
                        <!-- Author -->
                        <div class="flex items-center gap-3 mt-auto pt-4 border-t border-dark-100">
                            <div class="w-9 h-9 rounded-full bg-gradient-to-br from-oasis-500 to-oasis-700
                                        flex items-center justify-center text-white text-xs font-bold">
                                {{ proyecto.autor|first }}
                            </div>
                            <div>
                                <p class="text-sm font-semibold text-dark-800">{{ proyecto.autor }}</p>
                                <p class="text-xs text-dark-400">{{ proyecto.carrera }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <!-- Placeholders -->
                {% for i in "12345" %}
                <div class="carousel-card flex-shrink-0 w-80 snap-center">
                    <div class="rounded-3xl p-6 h-full border border-dashed border-dark-200 bg-dark-50 skeleton-pulse">
                        <div class="flex items-center justify-between mb-4">
                            <span class="px-3 py-1 rounded-full bg-dark-200 text-xs font-bold text-dark-400">#{{ forloop.counter }}</span>
                            <span class="text-sm text-dark-300"><i class="fa-solid fa-fire"></i> --</span>
                        </div>
                        <div class="w-full h-4 bg-dark-200 rounded mb-3"></div>
                        <div class="w-3/4 h-3 bg-dark-100 rounded mb-2"></div>
                        <div class="w-1/2 h-3 bg-dark-100 rounded mb-6"></div>
                        <div class="flex items-center gap-3 pt-4 border-t border-dark-100">
                            <div class="w-9 h-9 rounded-full bg-dark-200"></div>
                            <div>
                                <div class="w-24 h-3 bg-dark-200 rounded mb-1"></div>
                                <div class="w-16 h-2 bg-dark-100 rounded"></div>
                            </div>
                        </div>
                        <p class="text-center text-xs text-dark-400 mt-4">
                            <i class="fa-solid fa-clock mr-1"></i> Proximamente
                        </p>
                    </div>
                </div>
                {% endfor %}
                {% endfor %}
            </div>

            <!-- Swipe hint (mobile) -->
            <div class="lg:hidden flex items-center justify-center gap-2 mt-4 text-dark-400 text-sm swipe-hint">
                <i class="fa-solid fa-hand-pointer"></i>
                <span>Desliza para ver mas</span>
                <i class="fa-solid fa-arrow-right text-xs"></i>
            </div>

            <!-- Carousel Nav -->
            <button id="carousel-prev" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-2
                       w-12 h-12 rounded-full bg-white border border-dark-200 shadow-md
                       flex items-center justify-center
                       text-dark-600 hover:text-oasis-600 hover:border-oasis-300 transition-all
                       hidden lg:flex"
                    aria-label="Proyecto anterior">
                <i class="fa-solid fa-chevron-left"></i>
            </button>
            <button id="carousel-next" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-2
                       w-12 h-12 rounded-full bg-white border border-dark-200 shadow-md
                       flex items-center justify-center
                       text-dark-600 hover:text-oasis-600 hover:border-oasis-300 transition-all
                       hidden lg:flex"
                    aria-label="Siguiente proyecto">
                <i class="fa-solid fa-chevron-right"></i>
            </button>
        </div>
    </div>
</section>

<!-- ════════════════════════════════════════════════════════════════════════════
     EMPRESAS - CTA Section — Fondo verde con CTA naranja
     ════════════════════════════════════════════════════════════════════════════ -->
<section id="empresas" class="relative py-24 lg:py-32 bg-oasis-900">
    <div class="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:60px_60px]"></div>

    <div class="relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center">
            <div class="inline-flex items-center justify-center w-20 h-20 rounded-3xl mb-8
                        bg-white/10 border border-white/10">
                <i class="fa-solid fa-building text-3xl text-oasis-300"></i>
            </div>

            <h2 class="text-3xl sm:text-4xl lg:text-5xl font-black text-white mb-4">
                Conecta con el
                <span class="text-accent-400">Talento del Futuro</span>
            </h2>

            <p class="max-w-2xl mx-auto text-lg text-oasis-200/80 mb-10">
                Accede a proyectos reales de {{ total_carreras }} carreras. Encuentra aprendices con las habilidades
                que tu empresa necesita. Sin intermediarios, directo al talento.
            </p>

            <!-- Stats -->
            <div class="flex flex-wrap items-center justify-center gap-8 mb-10">
                <div class="text-center">
                    <div class="text-3xl font-black text-white" data-count="{{ total_carreras }}">0</div>
                    <div class="text-xs font-semibold text-oasis-300 uppercase tracking-wider">Carreras</div>
                </div>
                <div class="w-px h-12 bg-white/10"></div>
                <div class="text-center">
                    <div class="text-3xl font-black text-white" data-count="7">0</div>
                    <div class="text-xs font-semibold text-oasis-300 uppercase tracking-wider">Clusters</div>
                </div>
                <div class="w-px h-12 bg-white/10"></div>
                <div class="text-center">
                    <div class="text-3xl font-black text-white" data-count="100">0</div>
                    <div class="text-xs font-semibold text-accent-400 uppercase tracking-wider">% Gratuito</div>
                </div>
            </div>

            <!-- CTA Naranja 10% — Maximo impacto -->
            {% if user.is_authenticated %}
            <a href="{% url 'dashboard' %}"
               class="cta-glow group inline-flex items-center gap-3 px-10 py-5 rounded-2xl
                      bg-accent-500 text-white font-black text-xl
                      shadow-2xl shadow-accent-500/30 hover:shadow-accent-500/50
                      hover:bg-accent-600
                      hover:-translate-y-1 hover:scale-105
                      transition-all duration-300">
                <i class="fa-solid fa-gauge text-lg"></i>
                Ir a mi Dashboard
                <i class="fa-solid fa-arrow-right group-hover:translate-x-2 transition-transform"></i>
            </a>
            {% else %}
            <a href="{% url 'registro_empresa' %}"
               class="cta-glow group inline-flex items-center gap-3 px-10 py-5 rounded-2xl
                      bg-accent-500 text-white font-black text-xl
                      shadow-2xl shadow-accent-500/30 hover:shadow-accent-500/50
                      hover:bg-accent-600
                      hover:-translate-y-1 hover:scale-105
                      transition-all duration-300">
                <i class="fa-solid fa-handshake text-lg"></i>
                Registrar mi Empresa
                <i class="fa-solid fa-arrow-right group-hover:translate-x-2 transition-transform"></i>
            </a>
            {% endif %}
        </div>
    </div>
</section>

{% endblock %}

{% block footer %}
<footer class="relative bg-white border-t border-dark-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-10 mb-10">
            <div>
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-oasis-500 to-oasis-700 flex items-center justify-center">
                        <i class="fa-solid fa-seedling text-white text-lg"></i>
                    </div>
                    <span class="text-xl font-black text-dark-900">OASIS</span>
                </div>
                <p class="text-dark-500 text-sm leading-relaxed mb-4">
                    Repositorio institucional de proyectos de grado.
                    Conectando talento emergente con la industria.
                </p>
                <div class="flex items-center gap-3">
                    <a href="#" class="w-9 h-9 rounded-lg bg-dark-50 border border-dark-200 flex items-center justify-center text-dark-400 hover:text-oasis-600 hover:border-oasis-300 transition-all"><i class="fa-brands fa-github"></i></a>
                    <a href="#" class="w-9 h-9 rounded-lg bg-dark-50 border border-dark-200 flex items-center justify-center text-dark-400 hover:text-oasis-600 hover:border-oasis-300 transition-all"><i class="fa-brands fa-linkedin-in"></i></a>
                    <a href="#" class="w-9 h-9 rounded-lg bg-dark-50 border border-dark-200 flex items-center justify-center text-dark-400 hover:text-oasis-600 hover:border-oasis-300 transition-all"><i class="fa-brands fa-instagram"></i></a>
                </div>
            </div>
            <div>
                <h4 class="text-sm font-bold text-dark-800 uppercase tracking-wider mb-4">Plataforma</h4>
                <ul class="space-y-2">
                    {% if user.is_authenticated %}
                    <li><a href="{% url 'dashboard' %}" class="text-dark-500 hover:text-oasis-600 transition-colors text-sm">Mi Dashboard</a></li>
                    <li><a href="{% url 'perfil' %}" class="text-dark-500 hover:text-oasis-600 transition-colors text-sm">Mi Perfil</a></li>
                    {% else %}
                    <li><a href="{% url 'login' %}" class="text-dark-500 hover:text-oasis-600 transition-colors text-sm">Iniciar Sesion</a></li>
                    <li><a href="{% url 'registro_empresa' %}" class="text-dark-500 hover:text-oasis-600 transition-colors text-sm">Registro Empresa</a></li>
                    {% endif %}
                    <li><a href="/health/" class="text-dark-500 hover:text-oasis-600 transition-colors text-sm">Status</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-sm font-bold text-dark-800 uppercase tracking-wider mb-4">Clusters</h4>
                <ul class="space-y-2">
                    {% for cluster in clusters %}
                    <li class="text-dark-500 text-sm">
                        <i class="fa-solid {{ cluster.icon }} mr-2 text-oasis-500 w-4"></i>
                        {{ cluster.label }}
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="pt-8 border-t border-dark-100 flex flex-col sm:flex-row items-center justify-between gap-4">
            <p class="text-sm text-dark-400">&copy; 2026 OASIS. Todos los derechos reservados.</p>
            <p class="text-sm text-dark-300">Django + Three.js + Tailwind CSS</p>
        </div>
    </div>
</footer>
{% endblock %}

{% block extra_scripts %}
<script>
    window.OASIS_DATA = {
        carreras: {{ carreras_json|safe }},
        proyectos: {{ proyectos_json|safe }},
    };
</script>
{% endblock %}
